# 技能帮小程序后端接口

## 响应

### 当请求成功时，返回以下内容

+ Response 200

        {
            "success": 1,
            "data":
            {
                // 数据
            }
        }

### 当请求失败时，返回以下内容

+ Response 200

        {
            "success": 0,
            "err_msg": "报错信息"
        }
        
## 1.user模块

### 接口列表

[获取当前用户信息](#getCurrentUserInfo) `GET {base_url}/api/user`

[用户注册](#userRegister) `POST {base_url}/api/user`

[修改信息](#userUpdateInfo) `PUT {base_url}/api/user`

[注销该账号](#userLogout) `DELETE {base_url}/api/user`  //只是留着，不一定用

### 接口详情

<a name="getCurrentUserInfo"></a>
<span id="getCurrentUserInfo"></span>

### 获取当前用户信息 `GET {base_url}/api/user`

+ Request

        // 无需参数,后端获取当前用户的信息并返回

+ Response 200

        {
            "success": 1,
            "data": {
                        "user_id": 用户内部id,
                        "user_name": "用户名",
                        "wechat": "微信号",
                        "mobile": "手机号",
                        "is_cert": "是否认证",
                        "is_official": "是否是官方号",
                        "nickname": "昵称",
                        "wechat_id": 微信id,
                        "photo": null,
                        "update_time": "2019-03-25 18:44:54",
                        "create_time": "2019-03-25 18:43:52",
                        "delete_time": "0000-00-00 00:00:00"
                }
        }

<a name="userRegister"></a>
<span id="userRegister"></span>

### 用户注册 `POST {base_url}/api/user`

+ Request

        {
            "user_name": "姓名",
            "nickname": "昵称",
            "wechat": "微信号",
            "mobile": "手机",
            "wechat_id": "微信id"
        }

+ Response 200

        // 未登录时
        {
            "success": 1
        }


<a name="userUpdateInfo"></a>
<span id="userUpdateInfo"></span>

### 修改信息 `PUT {base_url}/api/user`

+ Request

        {

        }

+ Response 200

        {
            "success": 1
        }


<a name="userLogout"></a>
<span id="userLogout"></span>

### 注销该账号 `DELETE {base_url}/api/user`

+ Request

        // 无需参数,后端注销当前用户的信息并返回

+ Response 200

        {
            "success": 1
        }



## 2.label模块

### 接口列表

[获取本人所有标签](#getCurrentAllLabel) `GET {base_url}/api/labels`

[获取某个标签](#getOneLabel) `GET {base_url}/api/label/:label_id`

[新增标签](#createLabel) `POST {base_url}/api/label`

[修改信息](#updateLabel) `PUT {base_url}/api/label/:label_id`

[删除某个标签](#deleteLabel) `DELETE {base_url}/api/label/:label_id` 

### 接口详情

<a name="getCurrentAllLabel"></a>
<span id="getCurrentAllLabel"></span>

### 获取本人所有标签 `GET {base_url}/api/labels`

+ Request

        // 无需参数,后端获取信息并返回

+ Response 200

        {
            "success": 1,
            "data": [
                       {
                        "label_id": 标签id,
                        "user_id": 8,
                        "type": "类型",
                        "score": 得分,
                        "create_time": "2019-03-26 21:27:11",
                        "update_time": "2019-03-26 21:27:11",
                        "delete_time": "0000-00-00 00:00:00",
                        "description": "描述"
                        },
                        {
                        "label_id": 标签id,
                        "user_id": 8,
                        "type": "类型",
                        "score": 得分,
                        "create_time": "2019-03-26 21:27:11",
                        "update_time": "2019-03-26 21:27:11",
                        "delete_time": "0000-00-00 00:00:00",
                        "description": "描述"
                        }
                ]
        }


<a name="getOneLabel"></a>
<span id="getOneLabel"></span>

### 获取某个标签 `GET {base_url}/api/label/:label_id`

+ Request

        // 无需参数,后端获取信息并返回

+ Response 200

   
        {
            "success": 1,
            "data": {
                "label_id": 标签id,
                "user_id": 8,
                "type": "类型",
                "score": 得分,
                "create_time": "2019-03-26 21:27:11",
                "update_time": "2019-03-26 21:27:11",
                "delete_time": "0000-00-00 00:00:00",
                "description": "描述"               
            }
        }


<a name="createLabel"></a>
<span id="createLabel"></span>

### 新增标签 `POST {base_url}/api/label`

+ Request

        {
            "type": "标签类型",
            "description": "标签描述"
        }

+ Response 200

        // 未登录时
        {
            "success": 1
        }


<a name="updateLabel"></a>
<span id="updateLabel"></span>

### 修改标签 `PUT {base_url}/api/label/:label_id`

+ Request

        {
            "description": "标签描述" //只能修改描述，不能更改类型
        }

+ Response 200

        {
            "success": 1
        }


<a name="deleteLabel"></a>
<span id="deleteLabel"></span>

### 删除标签 `DELETE {base_url}/api/label/:label_id`

+ Request

        // 无需参数

+ Response 200

        {
            "success": 1
        }



## 3.help模块

### 接口列表

[获取本人所有求助](#getCurrentAllHelp) `GET {base_url}/api/helps`

[获取某个求助](#getOnehelp) `GET {base_url}/api/help/:help_id`

[新增求助](#createhelp) `POST {base_url}/api/help`

[修改信息](#updatehelp) `PUT {base_url}/api/help/:help_id`

[删除某个求助](#deletehelp) `DELETE {base_url}/api/help/:help_id` 

### 接口详情

<a name="getCurrentAllhelp"></a>
<span id="getCurrentAllhelp"></span>

### 获取本人所有求助 `GET {base_url}/api/helps`

+ Request

        // 无需参数,后端获取信息并返回

+ Response 200

        {
            "success": 1,
            "data": [
                       {
                        "help_id": 求助id,
                        "user_id": 8,
                        "type": "类型",
                        "score": 得分,
                        "create_time": "2019-03-26 21:27:11",
                        "update_time": "2019-03-26 21:27:11",
                        "delete_time": "0000-00-00 00:00:00",
                        "description": "描述"
                        },
                        {
                        "help_id": 求助id,
                        "user_id": 8,
                        "type": "类型",
                        "score": 得分,
                        "create_time": "2019-03-26 21:27:11",
                        "update_time": "2019-03-26 21:27:11",
                        "delete_time": "0000-00-00 00:00:00",
                        "description": "描述"
                        }
                ]
        }


<a name="getOnehelp"></a>
<span id="getOnehelp"></span>

### 获取某个求助 `GET {base_url}/api/help/:help_id`

+ Request

        // 无需参数,后端获取信息并返回

+ Response 200

   
        {
            "success": 1,
            "data": {
                "help_id": 求助id,
                "user_id": 8,
                "type": "类型",
                "score": 得分,
                "create_time": "2019-03-26 21:27:11",
                "update_time": "2019-03-26 21:27:11",
                "delete_time": "0000-00-00 00:00:00",
                "description": "描述"               
            }
        }


<a name="createhelp"></a>
<span id="createhelp"></span>

### 新增求助 `POST {base_url}/api/help`

+ Request

        {
            "content": "内容",
            "picture": "图片",//只能一张，可以为空
            "is_free": "是否有酬" ,//0代表有酬，1代表无酬
            "askfor_type": "求助类型" 
        }

+ Response 200

        // 未登录时
        {
            "success": 1
        }


<a name="updatehelp"></a>
<span id="updatehelp"></span>

### 修改求助 `PUT {base_url}/api/help/:help_id`

+ Request

        {
            "content": "内容",
            "picture": "图片",//只能一张，可以为空
            "is_free": "是否有酬" ,//0代表有酬，1代表无酬
            "askfor_type": "求助类型"                                                                                           
        }

+ Response 200

        {
            "success": 1
        }


<a name="deletehelp"></a>
<span id="deletehelp"></span>

### 删除求助 `DELETE {base_url}/api/help/:help_id`

+ Request

        // 无需参数

+ Response 200

        {
            "success": 1
        }

